<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Chatbot</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      .chat-container {
        width: 400px;
        height: 600px;
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
      }

      .chat-header {
        padding: 10px;
        background-color: #6200ea;
        color: #ffffff;
        text-align: center;
        font-weight: bold;
      }

      .chat-box {
        flex: 1;
        padding: 10px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .chat-box .message {
        padding: 10px 15px;
        border-radius: 20px;
        max-width: 70%;
        word-wrap: break-word;
      }

      .chat-box .user {
        align-self: flex-end;
        background-color: #6200ea;
        color: #ffffff;
      }

      .chat-box .bot {
        align-self: flex-start;
        background-color: #e0e0e0;
        color: #333333;
      }

      .chat-input {
        display: flex;
        padding: 10px;
        border-top: 1px solid #e0e0e0;
      }

      .chat-input input {
        flex: 1;
        padding: 10px;
        border: 1px solid #e0e0e0;
        border-radius: 20px;
        margin-right: 10px;
        outline: none;
        font-size: 14px;
      }

      .chat-input button {
        padding: 10px 15px;
        border: none;
        background-color: #6200ea;
        color: #ffffff;
        border-radius: 20px;
        cursor: pointer;
      }

      .chat-input button:hover {
        background-color: #4500c4;
      }
    </style>
  </head>
  <body>
    <div class="chat-container">
      <div class="chat-header">
        <h1>AI Chatbot</h1>
      </div>
      <div id="chat-box" class="chat-box">
        <!-- Chat messages will appear here -->
      </div>
      <div class="chat-input">
        <input id="user-input" type="text" placeholder="Type your message..." />
        <button id="send-btn">Send</button>
      </div>
    </div>

    <iframe
      src="https://www.chatbase.co/chatbot-iframe/Fuk5oUaWBYLPDHHM19nlg"
      width="100%"
      style="height: 100%; min-height: 700px"
      frameborder="0"
    ></iframe>

    <script>
      const chatBox = document.getElementById("chat-box");
      const userInput = document.getElementById("user-input");
      const sendBtn = document.getElementById("send-btn");

      // Simulated bot response
      const getBotResponse = (userMessage) => {
        const responses = {
          hello: "Hi there! How can I assist you today?",
          how: "I'm just a bot, but I'm here to help!",
          help: "Sure! Let me know what you need help with.",
        };
        return (
          responses[userMessage.toLowerCase()] ||
          "I'm not sure I understand. Can you rephrase?"
        );
      };

      // Add a message to the chat
      const addMessage = (message, sender) => {
        const messageElem = document.createElement("div");
        messageElem.textContent = message;
        messageElem.classList.add("message", sender);
        chatBox.appendChild(messageElem);
        chatBox.scrollTop = chatBox.scrollHeight; // Auto-scroll to the bottom
      };

      // Handle send button click
      sendBtn.addEventListener("click", () => {
        const userMessage = userInput.value.trim();
        if (userMessage) {
          addMessage(userMessage, "user"); // Add user message
          const botResponse = getBotResponse(userMessage);
          setTimeout(() => addMessage(botResponse, "bot"), 500); // Simulate response delay
          userInput.value = ""; // Clear input field
        }
      });

      // Handle Enter key press
      userInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") sendBtn.click();
      });
    </script>

    <!-- <script>
      (function () {
        if (!window.chatbase || window.chatbase("getState") !== "initialized") {
          window.chatbase = (...arguments) => {
            if (!window.chatbase.q) {
              window.chatbase.q = [];
            }
            window.chatbase.q.push(arguments);
          };
          window.chatbase = new Proxy(window.chatbase, {
            get(target, prop) {
              if (prop === "q") {
                return target.q;
              }
              return (...args) => target(prop, ...args);
            },
          });
        }
        const onLoad = function () {
          const script = document.createElement("script");
          script.src = "https://www.chatbase.co/embed.min.js";
          script.id = "Fuk5oUaWBYLPDHHM19nlg";
          script.domain = "www.chatbase.co";
          document.body.appendChild(script);
        };
        if (document.readyState === "complete") {
          onLoad();
        } else {
          window.addEventListener("load", onLoad);
        }
      })();
    </script> -->
  </body>
</html>
